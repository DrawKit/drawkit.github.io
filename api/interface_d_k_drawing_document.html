<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>DrawKit: DKDrawingDocument Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DrawKit
   </div>
   <div id="projectbrief">Vector and illustration framework for Mac OS X</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="class_d_k_drawing_document-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DKDrawingDocument Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is a simple document type that owns a drawing instance.  
 <a href="interface_d_k_drawing_document.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for DKDrawingDocument:</div>
<div class="dyncontent">
<div class="center"><img src="interface_d_k_drawing_document__inherit__graph.png" border="0" usemap="#_d_k_drawing_document_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a1f08eb6dafe39e412388bc65a5636519"><td class="memItemLeft" align="right" valign="top">(NSSet *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a1f08eb6dafe39e412388bc65a5636519">allRegisteredStyles</a></td></tr>
<tr class="memdesc:a1f08eb6dafe39e412388bc65a5636519"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all registered styles used by the document's drawing.  <a href="#a1f08eb6dafe39e412388bc65a5636519">More...</a><br /></td></tr>
<tr class="separator:a1f08eb6dafe39e412388bc65a5636519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcec58a9d17d350cc506a8738142b7be"><td class="memItemLeft" align="right" valign="top">(NSSet *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#afcec58a9d17d350cc506a8738142b7be">allStyles</a></td></tr>
<tr class="memdesc:afcec58a9d17d350cc506a8738142b7be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all styles used by the document's drawing.  <a href="#afcec58a9d17d350cc506a8738142b7be">More...</a><br /></td></tr>
<tr class="separator:afcec58a9d17d350cc506a8738142b7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e94b252cb24c9266d26093124b4e99"><td class="memItemLeft" align="right" valign="top">(Class)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#ae8e94b252cb24c9266d26093124b4e99">classOfDefaultDrawingLayer</a></td></tr>
<tr class="memdesc:ae8e94b252cb24c9266d26093124b4e99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the class of the layer for New Layer and default drawing construction.  <a href="#ae8e94b252cb24c9266d26093124b4e99">More...</a><br /></td></tr>
<tr class="separator:ae8e94b252cb24c9266d26093124b4e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4288fb470a95a181ab6f4efae3cb83c0"><td class="memItemLeft" align="right" valign="top">(IBAction)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a4288fb470a95a181ab6f4efae3cb83c0">deleteActiveLayer:</a></td></tr>
<tr class="memdesc:a4288fb470a95a181ab6f4efae3cb83c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">High-level method to delete the active layer from the drawing.  <a href="#a4288fb470a95a181ab6f4efae3cb83c0">More...</a><br /></td></tr>
<tr class="separator:a4288fb470a95a181ab6f4efae3cb83c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e81a76e0402a1261b9de9587a6f80a7"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a6e81a76e0402a1261b9de9587a6f80a7">documentStyleCategoryName</a></td></tr>
<tr class="memdesc:a6e81a76e0402a1261b9de9587a6f80a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a name that can be used for a style registry category for this document.  <a href="#a6e81a76e0402a1261b9de9587a6f80a7">More...</a><br /></td></tr>
<tr class="separator:a6e81a76e0402a1261b9de9587a6f80a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a82d6d497385ffcea13d0cd6b72b92e"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_d_k_drawing.html">DKDrawing</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a7a82d6d497385ffcea13d0cd6b72b92e">drawing</a></td></tr>
<tr class="memdesc:a7a82d6d497385ffcea13d0cd6b72b92e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the document's drawing object.  <a href="#a7a82d6d497385ffcea13d0cd6b72b92e">More...</a><br /></td></tr>
<tr class="separator:a7a82d6d497385ffcea13d0cd6b72b92e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783c05ac045a4de2e56da9b5590b76f6"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_d_k_drawing_tool.html">DKDrawingTool</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a783c05ac045a4de2e56da9b5590b76f6">drawingTool</a></td></tr>
<tr class="memdesc:a783c05ac045a4de2e56da9b5590b76f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the main view's current drawing tool.  <a href="#a783c05ac045a4de2e56da9b5590b76f6">More...</a><br /></td></tr>
<tr class="separator:a783c05ac045a4de2e56da9b5590b76f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56713ff2957a12f7cae0f3204e65e93"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_d_k_drawing_view.html">DKDrawingView</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#aa56713ff2957a12f7cae0f3204e65e93">mainView</a></td></tr>
<tr class="memdesc:aa56713ff2957a12f7cae0f3204e65e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the document's main view.  <a href="#aa56713ff2957a12f7cae0f3204e65e93">More...</a><br /></td></tr>
<tr class="separator:aa56713ff2957a12f7cae0f3204e65e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021b60d2bdf9d8e8ce6486b592a6b003"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_d_k_view_controller.html">DKViewController</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a021b60d2bdf9d8e8ce6486b592a6b003">makeControllerForView:</a></td></tr>
<tr class="memdesc:a021b60d2bdf9d8e8ce6486b592a6b003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a controller object to connect the given view to the document's drawing.  <a href="#a021b60d2bdf9d8e8ce6486b592a6b003">More...</a><br /></td></tr>
<tr class="separator:a021b60d2bdf9d8e8ce6486b592a6b003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50d772f8acb2de85bfa77c2ee172fda"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_d_k_drawing.html">DKDrawing</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#ad50d772f8acb2de85bfa77c2ee172fda">makeDefaultDrawing</a></td></tr>
<tr class="memdesc:ad50d772f8acb2de85bfa77c2ee172fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a drawing object to be used when the document is not opened from a file on disk.  <a href="#ad50d772f8acb2de85bfa77c2ee172fda">More...</a><br /></td></tr>
<tr class="separator:ad50d772f8acb2de85bfa77c2ee172fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3f6ae396a405bef5d8b455d3c72db1"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_d_k_drawing_view.html">DKDrawingView</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a1a3f6ae396a405bef5d8b455d3c72db1">makePrintDrawingView</a></td></tr>
<tr class="memdesc:a1a3f6ae396a405bef5d8b455d3c72db1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a view used to handle printing.  <a href="#a1a3f6ae396a405bef5d8b455d3c72db1">More...</a><br /></td></tr>
<tr class="separator:a1a3f6ae396a405bef5d8b455d3c72db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642d70fcb0b655bea14438073acc2424"><td class="memItemLeft" align="right" valign="top">(IBAction)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a642d70fcb0b655bea14438073acc2424">newDrawingLayer:</a></td></tr>
<tr class="memdesc:a642d70fcb0b655bea14438073acc2424"><td class="mdescLeft">&#160;</td><td class="mdescRight">High-level method to add a new drawing layer to the document.  <a href="#a642d70fcb0b655bea14438073acc2424">More...</a><br /></td></tr>
<tr class="separator:a642d70fcb0b655bea14438073acc2424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421ff3056d130fc641ec491a0d376fff"><td class="memItemLeft" align="right" valign="top">(IBAction)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a421ff3056d130fc641ec491a0d376fff">newLayerWithSelection:</a></td></tr>
<tr class="memdesc:a421ff3056d130fc641ec491a0d376fff"><td class="mdescLeft">&#160;</td><td class="mdescRight">High-level method to add a new drawing layer to the document and move the selected objects to it.  <a href="#a421ff3056d130fc641ec491a0d376fff">More...</a><br /></td></tr>
<tr class="separator:a421ff3056d130fc641ec491a0d376fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeacd86124306f65fc49fa584bff89af"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#aeeacd86124306f65fc49fa584bff89af">remergeStyles:readFromURL:</a></td></tr>
<tr class="memdesc:aeeacd86124306f65fc49fa584bff89af"><td class="mdescLeft">&#160;</td><td class="mdescRight">The first step in reconsolidating a newly opened document's registered styles with the current style registry.  <a href="#aeeacd86124306f65fc49fa584bff89af">More...</a><br /></td></tr>
<tr class="separator:aeeacd86124306f65fc49fa584bff89af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb9a42806a083ade7c3b32c84ce4c2d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a1cb9a42806a083ade7c3b32c84ce4c2d">replaceDocumentStylesWithMatchingStylesFromSet:</a></td></tr>
<tr class="memdesc:a1cb9a42806a083ade7c3b32c84ce4c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The second step in reconsolidating a newly opened document's registered styles with the current style registry.  <a href="#a1cb9a42806a083ade7c3b32c84ce4c2d">More...</a><br /></td></tr>
<tr class="separator:a1cb9a42806a083ade7c3b32c84ce4c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e83adc2be9375312ac5fa0719eebda1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a3e83adc2be9375312ac5fa0719eebda1">setDrawing:</a></td></tr>
<tr class="memdesc:a3e83adc2be9375312ac5fa0719eebda1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the document's drawing object.  <a href="#a3e83adc2be9375312ac5fa0719eebda1">More...</a><br /></td></tr>
<tr class="separator:a3e83adc2be9375312ac5fa0719eebda1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e92bc360d5c43d3697762a29bf54b78"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#a4e92bc360d5c43d3697762a29bf54b78">setDrawingTool:</a></td></tr>
<tr class="memdesc:a4e92bc360d5c43d3697762a29bf54b78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the main view's drawing tool to the given tool.  <a href="#a4e92bc360d5c43d3697762a29bf54b78">More...</a><br /></td></tr>
<tr class="separator:a4e92bc360d5c43d3697762a29bf54b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbdadaeaf69697e361c7fa2f25b3f71"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_d_k_drawing_document.html#acdbdadaeaf69697e361c7fa2f25b3f71">wantsInfoLayer</a></td></tr>
<tr class="memdesc:acdbdadaeaf69697e361c7fa2f25b3f71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether an info layer should be added to the default drawing.  <a href="#acdbdadaeaf69697e361c7fa2f25b3f71">More...</a><br /></td></tr>
<tr class="separator:acdbdadaeaf69697e361c7fa2f25b3f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a668670c91a11460067ea93ce00e81d24"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_d_k_drawing_document.html#a668670c91a11460067ea93ce00e81d24">bindFileExportType:toSelector:</a></td></tr>
<tr class="memdesc:a668670c91a11460067ea93ce00e81d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a mapping between a file type and a method that can export that file type.  <a href="#a668670c91a11460067ea93ce00e81d24">More...</a><br /></td></tr>
<tr class="separator:a668670c91a11460067ea93ce00e81d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d87cc86fab562af0a4816c4691cea4"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_d_k_drawing_document.html#a30d87cc86fab562af0a4816c4691cea4">bindFileImportType:toSelector:</a></td></tr>
<tr class="memdesc:a30d87cc86fab562af0a4816c4691cea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a mapping between a file type and a method that can import that file type.  <a href="#a30d87cc86fab562af0a4816c4691cea4">More...</a><br /></td></tr>
<tr class="separator:a30d87cc86fab562af0a4816c4691cea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e29d3720b82efb68ef5abc2b4e5b29"><td class="memItemLeft" align="right" valign="top">(NSUInteger)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_d_k_drawing_document.html#a09e29d3720b82efb68ef5abc2b4e5b29">defaultLevelsOfUndo</a></td></tr>
<tr class="memdesc:a09e29d3720b82efb68ef5abc2b4e5b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the default levels of undo assigned to new documents.  <a href="#a09e29d3720b82efb68ef5abc2b4e5b29">More...</a><br /></td></tr>
<tr class="separator:a09e29d3720b82efb68ef5abc2b4e5b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52daefd4680198054941809d10c94b8a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_d_k_drawing_document.html#a52daefd4680198054941809d10c94b8a">setDefaultLevelsOfUndo:</a></td></tr>
<tr class="memdesc:a52daefd4680198054941809d10c94b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default levels of undo assigned to new documents.  <a href="#a52daefd4680198054941809d10c94b8a">More...</a><br /></td></tr>
<tr class="separator:a52daefd4680198054941809d10c94b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82375256f1d9b190e663f97b4e76973f"><td class="memItemLeft" align="right" valign="top">(NSUndoManager *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_d_k_drawing_document.html#a82375256f1d9b190e663f97b4e76973f">sharedDrawkitUndoManager</a></td></tr>
<tr class="memdesc:a82375256f1d9b190e663f97b4e76973f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an undo manager that can be shared by multiple documents.  <a href="#a82375256f1d9b190e663f97b4e76973f">More...</a><br /></td></tr>
<tr class="separator:a82375256f1d9b190e663f97b4e76973f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is a simple document type that owns a drawing instance. </p>
<p>This class is a simple document type that owns a drawing instance. It can be used as the basis for any drawing-based document, where there is a 1:1 relationship between the documnent, the drawing and the main drawing view.</p>
<p>You can subclass to add functionality without having to rewrite the drawing ownership stuff.</p>
<p>This also handles standard printing of the drawing</p>
<p>Note that this is expected to be set up via the associated nib file. The outlet m_mainView should be set to the <a class="el" href="interface_d_k_drawing_view.html" title="DKDrawingView is the visible &quot;front end&quot; for the DKDrawing architecture. ">DKDrawingView</a> in the window. Inherited outlets such as window should be set as normal (File's Owner is of course, this object). If you forget to set the m_mainView outlet things won't work properly because the document won't know which view to link to the drawing it creates. What will happen is that the unconnected view will work, and the first time it goes to draw it will detect it has no back-end, and create one automatically. This is a feature, but in this case can be misleading, in that the drawing you <em>see</em> is NOT the drawing that the document owns. The m_mainView outlet is the only way the document has to know about the view it's supposed to connect to its drawing.</p>
<p>If you subclass this to have more views, etc, bear this in mind - you have to consider how the document's drawing gets hooked up to the views you want. Outlets like this are one easy way to do it, but not the only way. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a1f08eb6dafe39e412388bc65a5636519"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSSet*) allRegisteredStyles </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all registered styles used by the document's drawing. </p>
<p>This method actually returns all styles flagged as formerly registered immediately after the document has been opened - all subsequent calls return the actual registered styles. Thus take care that this is only called once after loading a document if it's the flagged styles you require. </p><dl class="section return"><dt>Returns</dt><dd>a set of all registered styles in the drawing </dd></dl>

</div>
</div>
<a class="anchor" id="afcec58a9d17d350cc506a8738142b7be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSSet*) allStyles </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all styles used by the document's drawing. </p>
<dl class="section return"><dt>Returns</dt><dd>a set of all styles in the drawing </dd></dl>

</div>
</div>
<a class="anchor" id="a668670c91a11460067ea93ce00e81d24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) bindFileExportType: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>fileType</em></td>
        </tr>
        <tr>
          <td class="paramkey">toSelector:</td>
          <td></td>
          <td class="paramtype">(SEL)&#160;</td>
          <td class="paramname"><em>aSelector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a mapping between a file type and a method that can export that file type. </p>
<p>The selector is used to build an invocation on the <a class="el" href="interface_d_k_drawing.html" title="A DKDrawing is the model data for the drawing system. ">DKDrawing</a> instance to export the type. The app will generally provide the method as part of a category extending <a class="el" href="interface_d_k_drawing.html" title="A DKDrawing is the model data for the drawing system. ">DKDrawing</a>, and use this method to forge the binding between the two. This class will then invoke the category method as required without the need to modify or subclass this class. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileType</td><td>a filetype or UTI string for a file type </td></tr>
    <tr><td class="paramname">selector</td><td>a selector for the method that implements the file export </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a30d87cc86fab562af0a4816c4691cea4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) bindFileImportType: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>fileType</em></td>
        </tr>
        <tr>
          <td class="paramkey">toSelector:</td>
          <td></td>
          <td class="paramtype">(SEL)&#160;</td>
          <td class="paramname"><em>aSelector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a mapping between a file type and a method that can import that file type. </p>
<p>The selector is used to build an invocation on the <a class="el" href="interface_d_k_drawing.html" title="A DKDrawing is the model data for the drawing system. ">DKDrawing</a> class to import the type. The app will generally provide the method as part of a category extending <a class="el" href="interface_d_k_drawing.html" title="A DKDrawing is the model data for the drawing system. ">DKDrawing</a>, and use this method to forge the binding between the two. This class will then invoke the category method as required without the need to modify or subclass this class. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileType</td><td>a filetype or UTI string for a file type </td></tr>
    <tr><td class="paramname">aSelector</td><td>a class method of <a class="el" href="interface_d_k_drawing.html" title="A DKDrawing is the model data for the drawing system. ">DKDrawing</a> that can import the file type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae8e94b252cb24c9266d26093124b4e99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (Class) classOfDefaultDrawingLayer </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the class of the layer for New Layer and default drawing construction. </p>
<p>Subclasses can override this to insert a different layer type without having to override each separate command. Note that the returned class is expected to be a subclass of <a class="el" href="interface_d_k_object_drawing_layer.html" title="This layer adds the concept of selection to drawable objects as defined by DKObjectOwnerLayer. ">DKObjectDrawingLayer</a> by some methods, most notably the -newLayerWithSelection method. </p><dl class="section return"><dt>Returns</dt><dd>the class of the default drawing layer </dd></dl>

</div>
</div>
<a class="anchor" id="a09e29d3720b82efb68ef5abc2b4e5b29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSUInteger) defaultLevelsOfUndo </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the default levels of undo assigned to new documents. </p>
<p>If the value wasn't found in the defaults, DEFAULT_LEVELS_OF_UNDO is returned </p><dl class="section return"><dt>Returns</dt><dd>the number of undo levels </dd></dl>

</div>
</div>
<a class="anchor" id="a4288fb470a95a181ab6f4efae3cb83c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (IBAction) deleteActiveLayer: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>High-level method to delete the active layer from the drawing. </p>
<p>After this the active layer will be nil, and should be set to something before further use. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>the sender of the message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6e81a76e0402a1261b9de9587a6f80a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) documentStyleCategoryName </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a name that can be used for a style registry category for this document. </p>
<dl class="section return"><dt>Returns</dt><dd>a string - just the document's filename without the extension or other path components </dd></dl>

</div>
</div>
<a class="anchor" id="a7a82d6d497385ffcea13d0cd6b72b92e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_d_k_drawing.html">DKDrawing</a>*) drawing </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the document's drawing object. </p>
<p>The document owns the drawing </p><dl class="section return"><dt>Returns</dt><dd>the document's drawing object </dd></dl>

</div>
</div>
<a class="anchor" id="a783c05ac045a4de2e56da9b5590b76f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_d_k_drawing_tool.html">DKDrawingTool</a>*) drawingTool </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the main view's current drawing tool. </p>
<p>This is a convenience for UI controllers to find the tool from the main view. If there are multiple drawing views you'll need another approach </p><dl class="section return"><dt>Returns</dt><dd>a drawing tool object, if any </dd></dl>

</div>
</div>
<a class="anchor" id="aa56713ff2957a12f7cae0f3204e65e93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_d_k_drawing_view.html">DKDrawingView</a>*) mainView </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the document's main view. </p>
<p>If the document has a main view, this returns it. Normally this is set up in the nib. A document isn't required to have an outlet to the main view but it makes setting everything up easier. </p><dl class="section return"><dt>Returns</dt><dd>the document's main view </dd></dl>

</div>
</div>
<a class="anchor" id="a021b60d2bdf9d8e8ce6486b592a6b003"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_d_k_view_controller.html">DKViewController</a>*) makeControllerForView: </td>
          <td></td>
          <td class="paramtype">(NSView *)&#160;</td>
          <td class="paramname"><em>aView</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a controller object to connect the given view to the document's drawing. </p>
<p>Usually you won't call this yourself but you can override it to supply different types of controllers. The default supplies a general purpose drawing tool controller. Note that the relationship between the view and the controller is set up by this, but NOT the relationship between the drawing and the controller - the controller must be added to the drawing using -addController. (Other parts of this class handle that). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aView</td><td>the view the controller will be used with </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new controller object </dd></dl>

</div>
</div>
<a class="anchor" id="ad50d772f8acb2de85bfa77c2ee172fda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_d_k_drawing.html">DKDrawing</a>*) makeDefaultDrawing </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a drawing object to be used when the document is not opened from a file on disk. </p>
<p>You can override to make a different initial drawing or modify the existing one </p><dl class="section return"><dt>Returns</dt><dd>a default drawing object </dd></dl>

</div>
</div>
<a class="anchor" id="a1a3f6ae396a405bef5d8b455d3c72db1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_d_k_drawing_view.html">DKDrawingView</a>*) makePrintDrawingView </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a view used to handle printing. </p>
<p>This may be overridden to customise the print view. Called by printShowingPrintPanel: </p><dl class="section return"><dt>Returns</dt><dd>a view suitable for printing the document's drawing </dd></dl>

</div>
</div>
<a class="anchor" id="a642d70fcb0b655bea14438073acc2424"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (IBAction) newDrawingLayer: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>High-level method to add a new drawing layer to the document. </p>
<p>The added layer is made the active layer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>the sender of the message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a421ff3056d130fc641ec491a0d376fff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (IBAction) newLayerWithSelection: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>High-level method to add a new drawing layer to the document and move the selected objects to it. </p>
<p>The added layer is made the active layer, the objects are added to the new layer and selected, and removed from their current layer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>the sender of the message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeeacd86124306f65fc49fa584bff89af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) remergeStyles: </td>
          <td></td>
          <td class="paramtype">(NSSet *)&#160;</td>
          <td class="paramname"><em>stylesToMerge</em></td>
        </tr>
        <tr>
          <td class="paramkey">readFromURL:</td>
          <td></td>
          <td class="paramtype">(NSURL *)&#160;</td>
          <td class="paramname"><em>url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The first step in reconsolidating a newly opened document's registered styles with the current style registry. </p>
<p>You should override this to handle style remerging in a different way if you need to. The default implementation allows the current registry to update the document and also adds the document's name as a category to the current registry. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stylesToMerge</td><td>a set of styles loaded with the document that are flagged as having been registered </td></tr>
    <tr><td class="paramname">url</td><td>the url from whence the document was loaded (ignored by default) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1cb9a42806a083ade7c3b32c84ce4c2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) replaceDocumentStylesWithMatchingStylesFromSet: </td>
          <td></td>
          <td class="paramtype">(NSSet *)&#160;</td>
          <td class="paramname"><em>aSetOfStyles</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The second step in reconsolidating a newly opened document's registered styles with the current style registry. </p>
<p>This should only be called if the registry actually returned anything from the remerge operation </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aSetOfStyles</td><td>the styles returned from the registry that should replace those in the document </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a52daefd4680198054941809d10c94b8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) setDefaultLevelsOfUndo: </td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>levels</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the default levels of undo assigned to new documents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">levels</td><td>the number of undo levels </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3e83adc2be9375312ac5fa0719eebda1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setDrawing: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_d_k_drawing.html">DKDrawing</a> *)&#160;</td>
          <td class="paramname"><em>drwg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the document's drawing object. </p>
<p>The document owns the drawing </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">drwg</td><td>a drawing object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4e92bc360d5c43d3697762a29bf54b78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setDrawingTool: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_d_k_drawing_tool.html">DKDrawingTool</a> *)&#160;</td>
          <td class="paramname"><em>aTool</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the main view's drawing tool to the given tool. </p>
<p>This helps <a class="el" href="interface_d_k_drawing_tool.html" title="DKDrawingTool is the semi-abstract base class for all types of drawing tool. ">DKDrawingTool</a>'s -set method work even when a document window contains several views that can be first responder. First the -set method will act directly on first responder, or a responder further up the chain. If that fails to find a responder, it then looks for an active document that responds to this method. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aTool</td><td>a drawing tool object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a82375256f1d9b190e663f97b4e76973f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSUndoManager*) sharedDrawkitUndoManager </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an undo manager that can be shared by multiple documents. </p>
<p>Some applications might be set up to use a global undo stack instead of havin gone per document. </p><dl class="section return"><dt>Returns</dt><dd>the shared instance of the undo manager </dd></dl>

</div>
</div>
<a class="anchor" id="acdbdadaeaf69697e361c7fa2f25b3f71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) wantsInfoLayer </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return whether an info layer should be added to the default drawing. </p>
<p>Subclasses can override this to return NO if they don't want the info layer </p><dl class="section return"><dt>Returns</dt><dd>YES, by default </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
