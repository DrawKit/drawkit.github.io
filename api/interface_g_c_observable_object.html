<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>DrawKit: GCObservableObject Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DrawKit
   </div>
   <div id="projectbrief">Vector and illustration framework for Mac OS X</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="class_g_c_observable_object-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GCObservableObject Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is used to permit setting up KVO in a simpler manner than comes as standard.  
 <a href="interface_g_c_observable_object.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for GCObservableObject:</div>
<div class="dyncontent">
<div class="center"><img src="interface_g_c_observable_object__inherit__graph.png" border="0" usemap="#_g_c_observable_object_inherit__map" alt="Inheritance graph"/></div>
<map name="_g_c_observable_object_inherit__map" id="_g_c_observable_object_inherit__map">
<area shape="rect" id="node3" href="interface_d_k_gradient.html" title="A DKGradient encapsulates gradient/shading drawing. " alt="" coords="333,56,424,81"/><area shape="rect" id="node5" href="interface_d_k_rasterizer.html" title="Renderers can now have a delegate attached which is able to modify behaviours such as changing the pa..." alt="" coords="328,179,428,204"/><area shape="rect" id="node4" href="interface_d_k_swept_angle_gradient.html" title="DKSweptAngleGradient" alt="" coords="476,5,639,31"/><area shape="rect" id="node6" href="interface_d_k_fill.html" title="A renderer that implements a colour fill with optional shadow. " alt="" coords="529,55,586,80"/><area shape="rect" id="node8" href="interface_d_k_hatching.html" title="This class provides a simple hatching fill for a path. " alt="" coords="511,104,604,129"/><area shape="rect" id="node9" href="interface_d_k_image_adornment.html" title="This class allows any image to be part of the rendering tree. " alt="" coords="486,153,629,179"/><area shape="rect" id="node10" href="interface_d_k_path_decorator.html" title="This renderer draws the image along the path of another object spaced at &lt;interval&gt; distance..." alt="" coords="495,203,620,228"/><area shape="rect" id="node12" href="interface_d_k_rast_group.html" title="A rendergroup is a single renderer which contains a list of other renderers. " alt="" coords="505,252,610,277"/><area shape="rect" id="node16" href="interface_d_k_stroke.html" title="represents the stroke of a path, and can be added as an attribute of a DKStyle. " alt="" coords="518,325,597,351"/><area shape="rect" id="node20" href="interface_d_k_text_adornment.html" title="This renderer allows text to be an attribute of any object. " alt="" coords="493,375,622,400"/><area shape="rect" id="node7" href="interface_d_k_zig_zag_fill.html" title="DKZigZagFill" alt="" coords="727,55,825,80"/><area shape="rect" id="node11" href="interface_d_k_fill_pattern.html" title="This object represents a pattern consisting of a repeated motif spaced out at intervals within a larg..." alt="" coords="726,128,826,153"/><area shape="rect" id="node13" href="interface_d_k_c_i_filter_rast_group.html" title="Captures the output of its contained renderers in an image. " alt="" coords="702,177,849,203"/><area shape="rect" id="node14" href="interface_d_k_quartz_blend_rast_group.html" title="Simple render group subclass that applies the set blend mode to the context for all of the renderers ..." alt="" coords="687,227,865,252"/><area shape="rect" id="node15" href="interface_d_k_style.html" title="DKStyle" alt="" coords="741,276,811,301"/><area shape="rect" id="node17" href="interface_d_k_arrow_stroke.html" title="DKArrowStroke is a rasterizer that implements arrowheads on the ends of paths. " alt="" coords="719,325,832,351"/><area shape="rect" id="node18" href="interface_d_k_rough_stroke.html" title="DKRoughStroke is a stroke rasterizer that randomly varies the stroke width about its nominal set widt..." alt="" coords="717,375,835,400"/><area shape="rect" id="node19" href="interface_d_k_zig_zag_stroke.html" title="DKZigZagStroke" alt="" coords="716,424,836,449"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a037788e45f642d8ad1b76db929a8025b"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#a037788e45f642d8ad1b76db929a8025b">actionNameForKeyPath:</a></td></tr>
<tr class="separator:a037788e45f642d8ad1b76db929a8025b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c5c8aa36de32e5adc86461b1c54234"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#a48c5c8aa36de32e5adc86461b1c54234">actionNameForKeyPath:changeKind:</a></td></tr>
<tr class="separator:a48c5c8aa36de32e5adc86461b1c54234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43fcef8eb0b039be0c0ffcb08df58ead"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#a43fcef8eb0b039be0c0ffcb08df58ead">oldArrayValueForKeyPath:</a></td></tr>
<tr class="separator:a43fcef8eb0b039be0c0ffcb08df58ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad40345c964650a4af34dcfe80e60a38f"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#ad40345c964650a4af34dcfe80e60a38f">registerActionNames</a></td></tr>
<tr class="separator:ad40345c964650a4af34dcfe80e60a38f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa425e17e7f2def93e4ac2bdade98a128"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#aa425e17e7f2def93e4ac2bdade98a128">sendInitialValuesForAllPropertiesToObserver:context:</a></td></tr>
<tr class="separator:aa425e17e7f2def93e4ac2bdade98a128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cd3c0c2a01439ed155f017f5fe17f5"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#a56cd3c0c2a01439ed155f017f5fe17f5">setActionName:forKeyPath:</a></td></tr>
<tr class="separator:a56cd3c0c2a01439ed155f017f5fe17f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671e6244289d608eb1e12fb3c95fa31c"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#a671e6244289d608eb1e12fb3c95fa31c">setUpKVOForObserver:</a></td></tr>
<tr class="separator:a671e6244289d608eb1e12fb3c95fa31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f4a4f92d11b74d74335240435ee491"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#aa9f4a4f92d11b74d74335240435ee491">setUpObservables:forObserver:</a></td></tr>
<tr class="separator:aa9f4a4f92d11b74d74335240435ee491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a132e7c95fd855cfcfeb98dcee3a24c"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#a6a132e7c95fd855cfcfeb98dcee3a24c">tearDownKVOForObserver:</a></td></tr>
<tr class="separator:a6a132e7c95fd855cfcfeb98dcee3a24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abace7bef831491715144bf78a19e3b42"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_g_c_observable_object.html#abace7bef831491715144bf78a19e3b42">tearDownObservables:forObserver:</a></td></tr>
<tr class="separator:abace7bef831491715144bf78a19e3b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a29ae30514789c6ecbfa3f900918a251e"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_g_c_observable_object.html#a29ae30514789c6ecbfa3f900918a251e">actionNameForKeyPath:objClass:</a></td></tr>
<tr class="separator:a29ae30514789c6ecbfa3f900918a251e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b42e860aea05c06383eebd65043fa4"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_g_c_observable_object.html#a66b42e860aea05c06383eebd65043fa4">observableKeyPaths</a></td></tr>
<tr class="separator:a66b42e860aea05c06383eebd65043fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4f72b8d1f03ba6d560c635d5505933"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_g_c_observable_object.html#a1a4f72b8d1f03ba6d560c635d5505933">registerActionName:forKeyPath:objClass:</a></td></tr>
<tr class="separator:a1a4f72b8d1f03ba6d560c635d5505933"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is used to permit setting up KVO in a simpler manner than comes as standard. </p>
<dl class="section author"><dt>Author</dt><dd>Contributions from the community; see CONTRIBUTORS.md </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2005-2015 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU LGPL3; see LICENSE</dd></dl>
<p>This is used to permit setting up KVO in a simpler manner than comes as standard.</p>
<p>The idea is that each class simply publishes a list of the observable properties that an observer can observe. When the observer wants to start observing all of these published properties, it calls setUpKVOForObserver: conversely, tearDownKVOForObserver: will stop the observer watching all the published properties.</p>
<p>Subclasses can also override these methods to be more selective about which properties are observed, or to propagate the message to additional observable objects they own.</p>
<p>This class also works around a bug or oversight in the KVO implementation (in 10.4 at least). When an array is changed, the old value isn't sent to the observer. To allow this, we record the old value locally. An observer can then call us back to get this old array if it needs to (for example, when building an Undo invocation).</p>
<p>The undo relay class provides a standard implementation for using KVO to implement Undo when using GCObservables. The relay needs to be added as an observer to any observable and given an undo manager. Then it will relay undoable actions from the observed objects to the undo manager and vice versa, implementing undo for all keypaths declared by the observee. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a037788e45f642d8ad1b76db929a8025b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) actionNameForKeyPath: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>keypath</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a48c5c8aa36de32e5adc86461b1c54234"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) <a class="el" href="interface_g_c_observable_object.html#a037788e45f642d8ad1b76db929a8025b">actionNameForKeyPath:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>keypath</em></td>
        </tr>
        <tr>
          <td class="paramkey">changeKind:</td>
          <td></td>
          <td class="paramtype">(NSKeyValueChange)&#160;</td>
          <td class="paramname"><em>kind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a29ae30514789c6ecbfa3f900918a251e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSString*) <a class="el" href="interface_g_c_observable_object.html#a037788e45f642d8ad1b76db929a8025b">actionNameForKeyPath:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>kp</em></td>
        </tr>
        <tr>
          <td class="paramkey">objClass:</td>
          <td></td>
          <td class="paramtype">(Class)&#160;</td>
          <td class="paramname"><em>cl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a66b42e860aea05c06383eebd65043fa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSArray*) observableKeyPaths </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a43fcef8eb0b039be0c0ffcb08df58ead"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray*) oldArrayValueForKeyPath: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>keypath</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a4f72b8d1f03ba6d560c635d5505933"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) registerActionName: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>na</em></td>
        </tr>
        <tr>
          <td class="paramkey">forKeyPath:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>kp</em></td>
        </tr>
        <tr>
          <td class="paramkey">objClass:</td>
          <td></td>
          <td class="paramtype">(Class)&#160;</td>
          <td class="paramname"><em>cl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad40345c964650a4af34dcfe80e60a38f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) registerActionNames </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa425e17e7f2def93e4ac2bdade98a128"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) sendInitialValuesForAllPropertiesToObserver: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>object</em></td>
        </tr>
        <tr>
          <td class="paramkey">context:</td>
          <td></td>
          <td class="paramtype">(void *)&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a56cd3c0c2a01439ed155f017f5fe17f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setActionName: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>name</em></td>
        </tr>
        <tr>
          <td class="paramkey">forKeyPath:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>keypath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a671e6244289d608eb1e12fb3c95fa31c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) setUpKVOForObserver: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>object</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa9f4a4f92d11b74d74335240435ee491"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUpObservables: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>keypaths</em></td>
        </tr>
        <tr>
          <td class="paramkey">forObserver:</td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6a132e7c95fd855cfcfeb98dcee3a24c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) tearDownKVOForObserver: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>object</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abace7bef831491715144bf78a19e3b42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) tearDownObservables: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>keypaths</em></td>
        </tr>
        <tr>
          <td class="paramkey">forObserver:</td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
